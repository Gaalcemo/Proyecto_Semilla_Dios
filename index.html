<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Semillas y √Årbol ‚Ä¢ Juego de Vers√≠culos</title>
<style>
  :root{
    /* Paleta clara */
    --bg:#f7faf9;
    --panel:#ffffff;
    --card:#ffffff;
    --muted:#4b5563;    /* texto secundario */
    --text:#1f2937;     /* texto principal */
    --accent:#16a34a;   /* green-600 */
    --accent-2:#65a30d; /* lime-600 */
    --danger:#dc2626;   /* red-600 */
    --ring:#10b981;     /* emerald-500 */
    --line:#e5e7eb;     /* bordes */
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial,sans-serif;
    background: radial-gradient(1200px 600px at 70% -20%, #e7f7ed 0%, var(--bg) 60%);
    color:var(--text);
    line-height:1.5;
  }
  header{ padding:24px 20px 8px; text-align:center; }
  h1{ margin:0; font-weight:800; letter-spacing:.3px; font-size:clamp(22px,3vw,32px);}
  .subtitle{color:var(--muted); font-size:14px}

  .container{
    max-width:1100px; margin:16px auto; padding:16px;
    display:grid; gap:16px; grid-template-columns: 1.1fr 1.4fr;
  }
  @media (max-width: 900px){ .container{ grid-template-columns:1fr; padding:12px; } }

  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:16px;
    box-shadow:0 8px 24px rgba(0,0,0,.06);
  }
  .plant-card{ padding:18px; position:relative; overflow:hidden; min-height:360px; display:flex; align-items:center; justify-content:center;}
  .quiz-card{ padding:20px; }

  .progress-wrap{margin-top:10px}
  .progress{
    width:100%; height:10px; background:#eef2f7; border-radius:999px; overflow:hidden; border:1px solid var(--line);
  }
  .progress > i{display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent-2)); transition:width .5s ease;}

  .btn{
    display:inline-flex; align-items:center; justify-content:center; gap:8px;
    padding:12px 14px; border-radius:12px; border:1px solid var(--line);
    background:#f8fafc; color:var(--text); cursor:pointer; font-weight:700;
    transition:transform .04s ease, background .2s ease, box-shadow .2s ease, border-color .2s ease;
  }
  .btn:hover{ background:#f1f5f9; }
  .btn:active{ transform:translateY(1px); }
  .btn[disabled]{ opacity:.55; cursor:not-allowed; }
  .btn-primary{ background:linear-gradient(180deg,#22c55e,#16a34a); color:white; border-color:#16a34a; }
  .btn-primary:hover{ filter:brightness(.95); }
  .btn-danger{ background:linear-gradient(180deg,#ef4444,#dc2626); color:white; border-color:#dc2626; }

  .options{ display:grid; gap:10px; margin-top:14px;}
  .opt{
    padding:12px 12px; border-radius:12px; border:1px solid var(--line);
    background:#fbfdff; cursor:pointer; text-align:left; font-weight:600;
    transition: background .2s ease, border-color .2s ease, transform .04s ease;
  }
  .opt:hover{ background:#f3f7ff; }
  .opt.correct{ border-color: var(--ring); box-shadow:0 0 0 2px rgba(16,185,129,.25) inset;}
  .opt.wrong{ border-color: var(--danger); box-shadow:0 0 0 2px rgba(239,68,68,.2) inset;}
  .opt[disabled]{ opacity:.9; cursor:not-allowed; }

  .verse{
    font-size:clamp(16px,2.2vw,19px);
    background:#f7fafc;
    border:1px solid var(--line);
    padding:14px 14px; border-radius:12px;
  }
  .meta{ display:flex; gap:10px; align-items:center; justify-content:space-between; margin:8px 0 6px; }
  .tag{ font-size:12px; padding:3px 8px; border-radius:999px; background:#e8f7ee; border:1px solid #b9f0cf; color:#065f46; }
  .small{ color:var(--muted); font-size:12px; }

  .plant-wrap{ width:min(500px,100%); aspect-ratio: 1 / 1; }
  svg{ width:100%; height:100%; display:block; }
  .soil{ fill:#a37656; }
  .seed{ fill:#8b5a3c; }
  .stem{ fill:#2f855a; }
  .leaf{ fill:#34d399; }
  .trunk{ fill:#8b6b46; }
  .canopy{ fill:#22c55e; }

  .drop{
    position:absolute; top:-20px; left:50%; transform:translateX(-50%);
    width:14px; height:14px; border-radius:50%; background:#3b82f6;
    filter:drop-shadow(0 6px 8px rgba(59,130,246,.35));
    animation: fall 700ms ease-in forwards;
  }
  @keyframes fall{
    0%{ opacity:.9; transform:translate(-50%, -40px) scale(.9); }
    85%{ opacity:1; transform:translate(-50%, 280px) scale(1.05);}
    100%{ opacity:0; transform:translate(-50%, 290px) scale(.6);}
  }

  .footer{ text-align:center; color:var(--muted); font-size:12px; padding:14px 12px 20px; }
</style>
</head>
<body>
  <header>
    <h1>üå± Semillas y √Årbol</h1>
    <div class="subtitle">Responde correctamente y ayuda a la semilla a crecer hasta hacerse √°rbol.</div>
  </header>

  <main class="container">
    <!-- PLANTA / PROGRESO -->
    <section class="card plant-card">
      <div class="plant-wrap">
        <svg viewBox="0 0 100 100" aria-label="Estado de crecimiento">
          <defs>
            <radialGradient id="sky" cx="50%" cy="10%" r="80%">
              <stop offset="0%" stop-color="#c7f7da"/>
              <stop offset="100%" stop-color="#f7faf9"/>
            </radialGradient>
          </defs>
          <rect x="0" y="0" width="100" height="100" fill="url(#sky)"/>
          <rect x="0" y="70" width="100" height="30" class="soil"/>
          <!-- Etapas -->
          <g id="stage-0"><ellipse cx="50" cy="75" rx="3" ry="2" class="seed"/></g>
          <g id="stage-1" style="display:none">
            <ellipse cx="50" cy="75" rx="3" ry="2" class="seed"/><path d="M50 74 L50 66" class="stem"/>
          </g>
          <g id="stage-2" style="display:none">
            <path d="M50 74 L50 62" class="stem"/>
            <ellipse cx="45" cy="63" rx="5" ry="3" class="leaf"/>
            <ellipse cx="55" cy="63" rx="5" ry="3" class="leaf"/>
          </g>
          <g id="stage-3" style="display:none">
            <path d="M50 74 L50 56" class="stem"/>
            <ellipse cx="42" cy="60" rx="6" ry="3.5" class="leaf"/>
            <ellipse cx="58" cy="58" rx="6" ry="3.5" class="leaf"/>
            <ellipse cx="46" cy="54" rx="5" ry="3" class="leaf"/>
          </g>
          <g id="stage-4" style="display:none">
            <rect x="48" y="50" width="4" height="24" class="trunk"/>
            <circle cx="50" cy="44" r="12" class="canopy"/>
          </g>
          <g id="stage-5" style="display:none">
            <rect x="47" y="45" width="6" height="29" class="trunk"/>
            <circle cx="50" cy="36" r="16" class="canopy"/>
            <circle cx="40" cy="44" r="10" class="canopy"/>
            <circle cx="60" cy="46" r="11" class="canopy"/>
          </g>
        </svg>
      </div>
      <div class="progress-wrap" style="position:absolute; left:18px; right:18px; bottom:16px;">
        <div class="meta">
          <span class="tag" id="stageLabel">Etapa: semilla</span>
          <span class="small"><span id="score">0</span>/<span id="total">0</span> correctas</span>
        </div>
        <div class="progress"><i id="bar"></i></div>
      </div>
      <div id="drops"></div>
    </section>

    <!-- QUIZ -->
    <section class="card quiz-card">
      <div class="meta">
        <span class="tag" id="themeTag">Tema</span>
        <span class="small">Pregunta <span id="qnum">1</span> de <span id="qtot">1</span></span>
      </div>

      <div class="verse" id="verseText">Cargando...</div>
      <div class="options" id="options"></div>

      <div style="display:flex; gap:10px; margin-top:14px; justify-content:space-between; align-items:center; flex-wrap:wrap;">
        <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
          <button class="btn" id="skipBtn" title="Siguiente pregunta">Siguiente ‚è≠</button>
          <button class="btn" id="revealBtn" title="Mostrar la respuesta correcta">Mostrar respuesta</button>
        </div>
        <!-- Reinicio SIEMPRE visible -->
        <button class="btn btn-primary" id="restartBtn" title="Reiniciar y barajar de nuevo">Reiniciar üîÅ</button>
      </div>

      <div id="feedback" class="small" style="margin-top:8px; min-height:20px;"></div>
      <div class="small" style="margin-top:10px; opacity:.9">
        <strong>Modo:</strong> Acierta para ‚Äúregar‚Äù la semilla y hacerla crecer. Los fallos no restan crecimiento.<br/>
        Textos: <em>Reina-Valera Antigua (1909) ‚Äî Dominio p√∫blico.</em>
      </div>
    </section>
  </main>

  <div class="footer">¬© Semillas y √Årbol ‚Ä¢ Hecho con cari√±o üåø</div>

<script>
/* ===== Utiles ===== */
const shuffle = arr => arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(v=>v[1]);

/* ===== Banco de vers√≠culos ===== */
/* Temas: "semillas", "fe", "crecimiento", "disciplina", "alimentaci√≥n"  */
/* Textos: Reina-Valera Antigua (1909), dominio p√∫blico */
const BANK = [
  {c:"Mateo 13:23",t:"Mas el que fue sembrado en buena tierra, √©ste es el que oye y entiende la palabra, y lleva fruto; y produce a ciento, a sesenta, y a treinta por uno.",m:"semillas"},
  {c:"Mateo 13:31",t:"El reino de los cielos es semejante al grano de mostaza, que un hombre tom√≥ y sembr√≥ en su campo.",m:"semillas"},
  {c:"Marcos 4:26",t:"As√≠ es el reino de Dios, como cuando un hombre echa semilla en la tierra.",m:"semillas"},
  {c:"Lucas 8:11",t:"La semilla es la palabra de Dios.",m:"semillas"},
  {c:"G√°latas 6:7",t:"No os enga√±√©is; Dios no puede ser burlado: que todo lo que el hombre sembrare, eso tambi√©n segar√°.",m:"semillas"},
  {c:"2 Corintios 9:6",t:"El que siembra escasamente, escasamente tambi√©n segar√°; y el que siembra en bendiciones, en bendiciones tambi√©n segar√°.",m:"semillas"},
  {c:"1 Corintios 3:6",t:"Yo plant√©, Apolos reg√≥; mas el crecimiento lo ha dado Dios.",m:"crecimiento"},
  {c:"Colosenses 2:7",t:"Arraigados y sobreedificados en √©l, y confirmados en la fe, as√≠ como hab√©is sido ense√±ados, abundando en acci√≥n de gracias.",m:"crecimiento"},
  {c:"2 Pedro 3:18",t:"Creced en la gracia y el conocimiento de nuestro Se√±or y Salvador Jesucristo.",m:"crecimiento"},
  {c:"1 Pedro 2:2",t:"Desead, como ni√±os reci√©n nacidos, la leche racional, no adulterada, para que por ella crezc√°is.",m:"alimentaci√≥n"},
  {c:"Hebreos 5:14",t:"Mas la vianda firme es para los perfectos, para los que por la costumbre tienen los sentidos ejercitados.",m:"alimentaci√≥n"},
  {c:"Hebreos 12:11",t:"Ninguna disciplina al presente parece ser causa de gozo, sino de tristeza; pero despu√©s da fruto apacible de justicia a los ejercitados en ella.",m:"disciplina"},
  {c:"1 Timoteo 4:8",t:"El ejercicio corporal para poco es provechoso; mas la piedad para todo aprovecha.",m:"disciplina"},
  {c:"2 Timoteo 2:6",t:"El labrador, para participar de los frutos, debe trabajar primero.",m:"disciplina"},
  {c:"Juan 6:35",t:"Yo soy el pan de vida; el que a m√≠ viene, nunca tendr√° hambre; y el que en m√≠ cree, no tendr√° sed jam√°s.",m:"alimentaci√≥n"},
  {c:"1 Corintios 9:27",t:"Hiero mi cuerpo y lo pongo en servidumbre; no sea que, habiendo predicado a otros, yo mismo venga a ser reprobado.",m:"disciplina"},
  {c:"Santiago 1:21",t:"Recibid con mansedumbre la palabra implantada, la cual puede salvar vuestras almas.",m:"semillas"},
  {c:"Santiago 5:7",t:"El labrador espera el precioso fruto de la tierra, aguardando con paciencia hasta que reciba la lluvia temprana y la tard√≠a.",m:"semillas"},
  {c:"Oseas 10:12",t:"Sembrad para vosotros en justicia, segad para vosotros en misericordia; romped barbecho; porque es tiempo de buscar a Jehov√°.",m:"semillas"},
  {c:"Isa√≠as 55:10",t:"Como desciende de los cielos la lluvia y la nieve, y no vuelve all√°, sino riega la tierra y la hace germinar y producir, y da semilla al que siembra, y pan al que come.",m:"semillas"},
  {c:"Salmo 1:3",t:"Ser√° como √°rbol plantado junto a corrientes de aguas, que da su fruto en su tiempo, y su hoja no cae; y todo lo que hace prosperar√°.",m:"crecimiento"},
  {c:"Jerem√≠as 17:8",t:"Ser√° como el √°rbol plantado junto a las aguas, que junto a la corriente echar√° sus ra√≠ces; no ver√° cuando viene el calor, sino que su hoja estar√° verde.",m:"crecimiento"},
  {c:"Salmo 92:12",t:"El justo florecer√° como la palmera; crecer√° como cedro en el L√≠bano.",m:"crecimiento"},
  {c:"Juan 15:5",t:"Yo soy la vid, vosotros los p√°mpanos; el que permanece en m√≠, y yo en √©l, √©ste lleva mucho fruto; porque separados de m√≠ nada pod√©is hacer.",m:"crecimiento"},
  {c:"Colosenses 1:10",t:"Andando como es digno del Se√±or, agrad√°ndole en todo; llevando fruto en toda buena obra, y creciendo en el conocimiento de Dios.",m:"crecimiento"},
  {c:"G√°latas 5:22",t:"Mas el fruto del Esp√≠ritu es amor, gozo, paz, paciencia, benignidad, bondad, fe, mansedumbre, templanza.",m:"crecimiento"},
  {c:"Proverbios 11:18",t:"El imp√≠o hace obra falsa; mas el que siembra justicia, tendr√° galard√≥n firme.",m:"semillas"},
  {c:"Proverbios 22:6",t:"Instruye al ni√±o en su carrera; aun cuando fuere viejo no se apartar√° de ella.",m:"disciplina"},
  {c:"Proverbios 12:1",t:"El que ama la ense√±anza ama la sabidur√≠a; mas el que aborrece la reprensi√≥n es ignorante.",m:"disciplina"},
  {c:"Proverbios 6:6",t:"Ve a la hormiga, oh perezoso, mira sus caminos, y s√© sabio.",m:"disciplina"},
  {c:"Romanos 12:2",t:"No os conform√©is a este siglo; mas transformaos por la renovaci√≥n de vuestro entendimiento.",m:"crecimiento"},
  {c:"Deuteronomio 8:3",t:"No s√≥lo de pan vivir√° el hombre, mas de todo lo que sale de la boca de Jehov√° vivir√° el hombre.",m:"alimentaci√≥n"},
  {c:"Filipenses 3:14",t:"Prosigo a la meta, al premio del supremo llamamiento de Dios en Cristo Jes√∫s.",m:"disciplina"},
  {c:"1 Tesalonicenses 3:12",t:"El Se√±or os haga crecer y abundar en amor unos para con otros, y para con todos.",m:"crecimiento"},
  {c:"1 Tesalonicenses 4:1",t:"Os rogamos y exhortamos en el Se√±or Jes√∫s, que, as√≠ como aprendisteis c√≥mo os conviene agradar a Dios, as√≠ abund√©is m√°s y m√°s.",m:"crecimiento"},
  {c:"2 Pedro 1:5",t:"Poniendo toda diligencia por esto mismo, a√±adid a vuestra fe virtud; y a la virtud, conocimiento.",m:"crecimiento"},
  {c:"Eclesiast√©s 11:6",t:"Por la ma√±ana siembra tu semilla, y a la tarde no dejes reposar tu mano; porque no sabes cu√°l prosperar√°.",m:"semillas"},
  {c:"Lucas 17:6",t:"Si tuviereis fe como un grano de mostaza, dir√≠ais a este sic√≥moro: Desarr√°igate, y pl√°ntate en el mar; y os obedecer√≠a.",m:"fe"},
  {c:"Mateo 17:20",t:"Si tuviereis fe como un grano de mostaza, dir√©is a este monte: P√°sate de aqu√≠ all√°; y se pasar√°; y nada os ser√° imposible.",m:"fe"},
  {c:"Mateo 5:6",t:"Bienaventurados los que tienen hambre y sed de justicia, porque ellos ser√°n hartos.",m:"alimentaci√≥n"}
];

/* ===== Estado y referencias ===== */
let QUESTIONS;        // se (re)baraja en cada inicio
let idx, correct, total;
const growthStages = 6; // 0..5
let stepPerStage;

const verseEl = document.getElementById('verseText');
const optionsEl = document.getElementById('options');
const qnumEl = document.getElementById('qnum');
const qtotEl = document.getElementById('qtot');
const themeTag = document.getElementById('themeTag');
const feedbackEl = document.getElementById('feedback');
const skipBtn = document.getElementById('skipBtn');
const revealBtn = document.getElementById('revealBtn');
const restartBtn = document.getElementById('restartBtn');
const scoreEl = document.getElementById('score');
const totalEl = document.getElementById('total');
const barEl = document.getElementById('bar');
const stageLabel = document.getElementById('stageLabel');
const dropsEl = document.getElementById('drops');

/* ===== Planta ===== */
function setStage(stage){
  for(let s=0; s<growthStages; s++){
    const g = document.getElementById(`stage-${s}`);
    if(g) g.style.display = (s===stage)?'block':'none';
  }
  const names = ["semilla","germinando","brotando","planta joven","√°rbol peque√±o","√°rbol completo"];
  stageLabel.textContent = "Etapa: " + names[Math.min(stage,names.length-1)];
}
function currentStage(){ return Math.min(5, Math.floor(correct / stepPerStage)); }
function updatePlant(){
  setStage(currentStage());
  const pct = Math.min(100, Math.round((correct/total)*100));
  barEl.style.width = pct + "%";
  scoreEl.textContent = correct;
}
function splash(){
  const d = document.createElement('div');
  d.className = 'drop';
  dropsEl.appendChild(d);
  setTimeout(()=>{ d.remove(); }, 800);
}

/* ===== Render ===== */
function render(){
  const q = QUESTIONS[idx];
  qnumEl.textContent = idx+1;
  verseEl.textContent = q.t;
  themeTag.textContent = "Tema: " + q.m;
  feedbackEl.textContent = "";
  optionsEl.innerHTML = "";

  // opciones: 1 correcta + 3 aleatorias
  const others = shuffle(BANK.filter(v => v.c !== q.c)).slice(0,3).map(v=>v.c);
  const opts = shuffle([q.c, ...others]);

  opts.forEach(opt=>{
    const b = document.createElement('button');
    b.className = 'opt';
    b.textContent = opt;
    b.onclick = ()=>{
      const already = Array.from(optionsEl.querySelectorAll('.opt')).some(x=>x.hasAttribute('disabled'));
      if(already) return;
      Array.from(optionsEl.children).forEach(btn=>btn.setAttribute('disabled',''));
      if(opt === q.c){
        b.classList.add('correct');
        feedbackEl.innerHTML = "‚úÖ ¬°Correcto! " + q.c;
        correct++; updatePlant(); splash();
      }else{
        b.classList.add('wrong');
        Array.from(optionsEl.children).find(x=>x.textContent===q.c)?.classList.add('correct');
        feedbackEl.innerHTML = "‚ùå No es esa. La correcta es <strong>"+q.c+"</strong>.";
      }
      if(idx === total-1){ skipBtn.textContent = "Finalizar"; }
    };
    optionsEl.appendChild(b);
  });

  skipBtn.disabled = false; revealBtn.disabled = false;
}

skipBtn.onclick = ()=>{ if(idx < total-1){ idx++; render(); } else { endGame(); } };
revealBtn.onclick = ()=>{
  const q = QUESTIONS[idx];
  Array.from(optionsEl.children).forEach(btn=>{
    btn.setAttribute('disabled',''); if(btn.textContent === q.c) btn.classList.add('correct');
  });
  feedbackEl.innerHTML = "‚ÑπÔ∏è Correcta: <strong>"+q.c+"</strong>.";
};

/* ===== Reinicio (baraja de nuevo) ===== */
function initGame(){
  QUESTIONS = shuffle(BANK).slice(0, 40);
  idx = 0; correct = 0;
  total = QUESTIONS.length;
  stepPerStage = Math.ceil(total / (growthStages-1));
  qtotEl.textContent = total; totalEl.textContent = total;
  barEl.style.width = "0%"; setStage(0); scoreEl.textContent = "0";
  skipBtn.textContent = "Siguiente ‚è≠";
  render();
}
restartBtn.onclick = ()=>{ initGame(); };

function endGame(){
  const final = currentStage();
  setStage(final);
  let msg = "Has completado el juego. Aciertos: <strong>"+correct+"</strong> de <strong>"+total+"</strong>.";
  msg += (final<5) ? " üåø ¬°Sigue practicando para llegar al √°rbol completo!" : " üå≥ ¬°√Årbol completo! ¬°Excelente!";
  verseEl.innerHTML = msg;
  optionsEl.innerHTML = ""; feedbackEl.textContent = "";
  skipBtn.disabled = true; revealBtn.disabled = true;
}

/* ===== Inicio ===== */
initGame();
</script>
</body>
</html>
